---
title: Bean ë“±ë¡ (XML)
parent: Spring Boot
nav_order: -2
---

# 02. Bean ë“±ë¡ (XML)

> &nbsp;ìŠ¤í”„ë§ í™˜ê²½ì—ì„œëŠ” ê°ì²´ë¥¼ Bean ì´ë¼ê³  í•œë‹¤.
>
> &nbsp;Spring Bean ì„ ë“±ë¡í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ê°€ ìˆëŠ”ë°, XML ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ JAVA ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. ìš°ì„  XML ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì ğŸ™‹ğŸ»â€â™€ï¸

### 1ï¸âƒ£ &nbsp;src/main/java

âœ”ï¸ Bean ë“±ë¡ ì‹¤ìŠµì„ ì§„í–‰í•  class ì •ë³´

<img src='/assets/images/pages/cs/spring/01. directory.png'>

### 2ï¸âƒ£ &nbsp;beans.xml

âœ”ï¸ Bean ë“±ë¡ ì „ì—, xml íŒŒì¼ì— ì•„ë˜ íƒœê·¸ë¥¼ ë¶™ì—¬ë„£ì–´ì•¼ í•œë‹¤. 'beans' íƒœê·¸ ì•ˆì— 'bean' íƒœê·¸ë¥¼ ë„£ì–´ì„œ ë“±ë¡í•˜ë©´ ëœë‹¤.

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

</beans>
```

1. JSP ì˜ useBean íƒœê·¸ì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ Bean ê°ì²´ë¥¼ ë“±ë¡í•œë‹¤. class ì—ëŠ” ê°ì²´ ìƒì„±ì„ ì›í•˜ëŠ” í´ë˜ìŠ¤ì˜ ê²½ë¡œë¥¼ ì ì–´ë„£ê³ , id ì—ëŠ” ë³€ìˆ˜ëª…ì„ ì ì–´ë„£ëŠ”ë‹¤.

```xml
  ğŸ›’ <bean class="beans.Cart" id="cart" />
```

2. ë“±ë¡í•œ Bean ê°ì²´ë¥¼ ë¶ˆëŸ¬ì˜¤ë ¤ë©´, (1) xml íŒŒì¼ì„ ë¡œë”©í•˜ê³ , (2) getBean() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

```JAVA
public class Main {

	public static void main(String[] args) {

		// (1)
		ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext("config/beans.xml");

		//(2)
		Cart cart = ctx.getBean("cart", Cart.class);

	}

}
```

ğŸ’¡ xml íŒŒì¼ì„ ë¡œë”©í•  ë•Œ Bean ì´ ìƒì„±ë˜ë©°, getBean() ë©”ì†Œë“œëŠ” ìƒì„±ëœ ê°ì²´ì˜ ì£¼ì†Œê°’ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì‘ì—…ì„ í•œë‹¤. ë˜í•œ Bean ì€ Singleton ìœ¼ë¡œ ìƒì„±ëœë‹¤.

### 3ï¸âƒ£ &nbsp;lazy-init

âœ”ï¸ ê°ì²´ ìƒì„± ì‹œê¸°ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆë‹¤. ì•„ë¬´ëŸ° ì„¤ì •ì„ ì£¼ì§€ ì•Šìœ¼ë©´ xml íŒŒì¼ì„ ë¡œë”©í•  ë•Œ ê°ì²´ê°€ ìƒì„±ë˜ì§€ë§Œ, lazy-init = "true" ë¡œ ì„¤ì •í•˜ë©´ getBean() ë©”ì†Œë“œë¡œ í˜¸ì¶œí•  ë•Œ ê°ì²´ê°€ ìƒì„±ëœë‹¤.

```xml
 ğŸ¥‘ <bean class="beans.Avocado" id="avocado" lazy-init="true" />
```

### 4ï¸âƒ£ &nbsp;scope

âœ”ï¸ scope = "prototype" ìœ¼ë¡œ ì„¤ì •í•˜ë©´, ê°ì²´ ìƒì„± ì‹œê¸°ë¥¼ getBean() ë©”ì†Œë“œë¡œ í˜¸ì¶œí•  ë•Œë¡œ ëŠ¦ì¶œ ìˆ˜ ìˆìœ¼ë©´ì„œ **_Singleton ìœ¼ë¡œ ìƒì„±ë˜ì§€ ì•Šë„ë¡_** í•œë‹¤.

```xml
 ğŸ™ <bean class="beans.Jumeokbap" id="jumeokbap" scope="prototype" />
```

### 5ï¸âƒ£ &nbsp;init-method, destroy-method

âœ”ï¸ Bean ì„ ë“±ë¡í•  ë•Œ init-method ë¥¼ ì„¤ì •í•´ë‘ë©´ ìƒì„±ìê°€ í˜¸ì¶œëœ ì§í›„ init-methodë¡œ ì„¤ì •í•œ ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤.

âœ”ï¸ ë§ˆì°¬ê°€ì§€ë¡œ, destroy-method ë¥¼ ì„¤ì •í•´ë‘ë©´ ê°ì²´ê°€ ì†Œë©¸í•˜ê¸° ì§ì „ì— destroy-method ë¡œ ì„¤ì •í•œ ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤.

```xml
 ğŸ® <bean class="beans.Pudding" id="pudding" init-method="addCart" destroy-method="removeCart" />
```

### 6ï¸âƒ£ &nbsp;default-init-method, default-destroy-method

âœ”ï¸ xml íŒŒì¼ beans íƒœê·¸ ì•ˆì— ì„¤ì •í•˜ëŠ” ë©”ì†Œë“œë¡œ, xml íŒŒì¼ì„ ë¡œë”©í•  ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ê³ , ì¢…ë£Œí•  ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë©”ì†Œë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

1. default ë©”ì†Œë“œ ì„¤ì •

&nbsp; &nbsp; &nbsp; &nbsp; ğŸ™ addCart() ëŠ” ì£¼ë¨¹ë°¥ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ

&nbsp; &nbsp; &nbsp; &nbsp; ğŸ›’ purchase() ëŠ” ì¹´íŠ¸ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ

```xml
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	                    http://www.springframework.org/schema/beans/spring-beans.xsd
	                    http://www.springframework.org/schema/context
	                    http://www.springframework.org/schema/context/spring-context.xsd"
	                    default-init-method="addCart" default-destroy-method="purchase">

<bean class="beans.Cart" id="cart" />
<bean class="beans.Jumeokbap" id="jumeokbap" autowire="byName">
	<constructor-arg value="1" type="int"/>
	<constructor-arg value="30ì´ˆë§Œ ë°ì›Œì£¼ì„¸ìš”"/>
</bean>

</beans>
```

2. ì£¼ë¨¹ë°¥ í´ë˜ìŠ¤ì˜ Bean ì„ jumeokbap ìœ¼ë¡œ ë“±ë¡í•˜ê³  ë¡œë”©í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.

```
09:30:53.148 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jumeokbap'
09:30:53.151 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cart'
Jumeokbap 1ê°œë¥¼ ì¥ë°”êµ¬ë‹ˆì— ë„£ì—ˆìŠµë‹ˆë‹¤.
09:30:53.157 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Closing org.springframework.context.support.ClassPathXmlApplicationContext@4681c175, started on Fri May 03 09:30:53 KST 2024
4000ì› ê²°ì œë˜ì—ˆìŠµë‹ˆë‹¤.
```
