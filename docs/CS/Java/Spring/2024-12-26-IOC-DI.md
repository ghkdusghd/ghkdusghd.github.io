---
title: ì œì–´ì˜ ì—­ì „(IoC) ê³¼ ì˜ì¡´ì„± ì£¼ì…(DI)
parent: Spring Boot
nav_order: -3
---

# 04. IoC_DI

> ğŸ’¡ ì œì–´ì˜ ì—­ì „(IoC) ì´ë€?
>
> ê°ì²´ì˜ ìƒì„±ê³¼ ìƒëª…ì£¼ê¸°ë¥¼ ì»¨í…Œì´ë„ˆê°€ ë‹´ë‹¹í•œë‹¤ëŠ” ê°œë…ì´ë‹¤. ì¦‰ í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ê°œë°œìê°€ ì•„ë‹Œ í”„ë ˆì„ì›Œí¬ê°€ ê´€ë¦¬í•œë‹¤. (ê°œë°œì˜ ë³µì¡ì„±ì´ ì¤„ì–´ë“ ë‹¤.)

> ğŸ’¡ ì˜ì¡´ì„± ì£¼ì…(DI) ì´ë€?
>
> IoCì˜ í•œ í˜•íƒœë¡œ, ê°ì²´ ê°„ì˜ ì˜ì¡´ì„±ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…í•˜ëŠ” ë°©ì‹ì´ë‹¤. (ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ëª¨ë“ˆì˜ ë…ë¦½ì„±ì„ ë†’ì¸ë‹¤) ì˜ì¡´ì„± ì£¼ì…ì—ëŠ” 3ê°€ì§€ ë°©ë²•(ìƒì„±ì ì£¼ì…, setter ì£¼ì…, ìë™ ì£¼ì…) ì´ ìˆë‹¤.

> &nbsp; ğŸ™ ì‹¤ìŠµì„ ìœ„í•œ ì£¼ë¨¹ë°¥ í´ë˜ìŠ¤ ğŸ™
>
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (í•˜ë‹¨ì— getter setter ë©”ì†Œë“œ ìˆìŒ)
> <img src="/assets/images/pages/cs/spring/02. constructor-arg.png">

### 1ï¸âƒ£ &nbsp;ìƒì„±ì ì£¼ì…

âœ”ï¸ XML ì‚¬ìš©

1. constructor-arg íƒœê·¸ ì‚¬ìš©
2. value ì— ê°’ì„, type ì— ìë£Œí˜•ì„ ì…ë ¥í•œë‹¤. (ê¸°ë³¸ ìë£Œí˜•ì€ String ì´ë‹¤.)

```xml
<bean class="beans.Jumeokbap" id="jumeokbap2">
	<constructor-arg value="1" type="int"/>
	<constructor-arg value="30ì´ˆë§Œ ë°ì›Œì£¼ì„¸ìš”"/>
</bean>
```

âœ”ï¸ JAVA ì‚¬ìš©

1. ìƒì„±ì í˜¸ì¶œí•  ë•Œì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ê°’ì„ ì£¼ì…í•œë‹¤.

```JAVA
	@Bean
	public Jumeokbap jumeokbap2() {
		Jumeokbap j = new Jumeokbap(1, "30ì´ˆë§Œ ë°ì›Œì£¼ì„¸ìš”");
		return j;
	}
```

### 2ï¸âƒ£ &nbsp;setter ì£¼ì…

âœ”ï¸ XML ì‚¬ìš©

1. property íƒœê·¸ ì‚¬ìš©
2. name ì— ë³€ìˆ˜ëª…ì„, value ì— ê°’ì„ ì…ë ¥í•œë‹¤.

```xml
<bean class="beans.Jumeokbap" id="jumeokbap3">
	<property name="orderCnt" value="1" />
	<property name="message" value="30ì´ˆë§Œ ë°ì›Œì£¼ì„¸ìš”" />
</bean>
```

âœ”ï¸ JAVA ì‚¬ìš©

1. setter ë©”ì†Œë“œë¥¼ í™œìš©í•˜ì—¬ ì£¼ì…í•œë‹¤.

```JAVA
	@Bean
	public Jumeokbap jumoJumeokbap3() {
		Jumeokbap j = new Jumeokbap();
		j.setOrderCnt(1);
		j.setMessage("30ì´ˆë§Œ ë°ì›Œì£¼ì„¸ìš”");
		return j;
	}
```

### 3ï¸âƒ£ &nbsp;ìë™ ì£¼ì…

> autowire ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë§ì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì°¾ì•„ì„œ ìë™ìœ¼ë¡œ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í•´ì¤€ë‹¤. ë³¸ ì‹¤ìŠµì—ì„œëŠ” ì£¼ë¨¹ë°¥ í´ë˜ìŠ¤ì˜ í•„ë“œ ì¤‘ì—ì„œ ê°ì²´ íƒ€ì…ì¸ cart ì— ìë™ ì£¼ì…ìœ¼ë¡œ ì˜ì¡´ê´€ê³„ë¥¼ ì„¤ì •í•´ë³´ì.

#### ğŸŒ± &nbsp;"byName"

âœ”ï¸ XML ì‚¬ìš©

1. ìë™ì£¼ì… í•˜ê³ ì í•˜ëŠ” ê°ì²´(Cart) ì˜ Bean ì„ ë“±ë¡í•œë‹¤. ì´ ë•Œ idëŠ” ì£¼ì…ë°›ì„ í´ë˜ìŠ¤ì— ì„¤ì •í•´ë‘” ë³€ìˆ˜ëª…ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •í•´ì•¼ í•œë‹¤.

2. cart ê°ì²´ë¥¼ ì£¼ì…í•  ì£¼ë¨¹ë°¥ Beanì— autowire ì†ì„±ì„ ì‚¬ìš©í•œë‹¤.

3. autowire = "byName" ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ë“±ë¡ëœ Bean ì¤‘ì—ì„œ ë³€ìˆ˜ëª…ì´ ë™ì¼í•œ Bean ì„ ì°¾ì•„ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤€ë‹¤.

```xml
<bean class="beans.Cart" id="cart" />
<bean class="beans.Jumeokbap" id="jumeokbap4" autowire="byName"/>
```

#### ğŸŒ± &nbsp;"byType"

âœ”ï¸ XML ì‚¬ìš©

1. byName ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìë™ì£¼ì… í•˜ê³ ì í•˜ëŠ” ê°ì²´(Cart) ì˜ Bean ì„ ë¨¼ì € ë“±ë¡í•œë‹¤.

2. cart ê°ì²´ë¥¼ ì£¼ì…í•  ì£¼ë¨¹ë°¥ Bean ì— autowire ì†ì„±ì„ ì‚¬ìš©í•œë‹¤.

3. autowire = "byType" ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ë“±ë¡ëœ Bean ì¤‘ì—ì„œ ê°™ì€ íƒ€ì…(ì‹¤ìŠµì—ì„œ ì‚¬ìš©í•œ ìë£Œí˜•ì€ Cart ê°ì²´ì´ë‹¤) ì„ ì°¾ì•„ì„œ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤€ë‹¤.

```xml
<bean class="beans.Cart" id="cart" />
<bean class="beans.Jumeokbap" id="jumeokbap5" autowire="byType" />
```

#### ğŸŒ± &nbsp;@Autowired

âœ”ï¸ JAVA ì‚¬ìš©

1. @Configuration íŒŒì¼ì— ìë™ì£¼ì… í•˜ê³ ì í•˜ëŠ” ê°ì²´ (Cart) ì™€ ì£¼ì… ë°›ì„ ê°ì²´ (Pudding) ì„ ë‘˜ ë‹¤ ë“±ë¡í•´ì¤€ë‹¤.

2. ìë™ ì£¼ì… ë°›ì„ ê°ì²´(Pudding) ì—ì„œ, í•´ë‹¹ ë³€ìˆ˜ì— @Autowired ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ë‹¤.

```JAVA
(1)
@Configuration
public class BeanClass {

	@Bean
	public Cart cart() {
		return new Cart();
	}

	@Bean
	public Pudding pudding() {
		return new Pudding();
	}

}

(2)
public class Pudding extends Cart{

	//í•„ë“œ
	private int orderCnt;
	private String message;
	@Autowired
	private Cart cart;

}
```

âœ”ï¸ í•„ë“œì— ìë™ ì£¼ì… ë°›ì„ ê°ì²´ê°€ ì—¬ëŸ¬ ê°œë¼ë©´ ?

- @Qualifier ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ë©´ ë©ë‹ˆë‹¤.

```JAVA
(1)
@Configuration
public class BeanClass {

	//@Qualifier ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë³€ìˆ˜ê°€ ìˆìœ¼ë©´ Bean ì„ ì„ ì–¸í•  ë•Œì˜ ë©”ì†Œë“œëª…ì„ name ê³¼ ì¼ì¹˜ì‹œì¼œì•¼ í•œë‹¤.
	@Bean
	public Cart obj1() {
		return new Cart();
	}

	@Bean
	public Cart obj2() {
		return new Cart();
	}

	@Bean
	public Pudding pudding() {
		return new Pudding();
	}

}

(2)
public class Pudding extends Cart{

	//í•„ë“œ
	private int orderCnt;
	private String message;

	//ê°™ì€ ê°ì²´ê°€ ì—¬ëŸ¬ ê°œ ì„ ì–¸ë˜ì–´ ìˆì–´ ì–´ë–¤ ê°ì²´ì— ìë™ ì£¼ì…ì„ í•´ì•¼ í•˜ëŠ”ì§€ êµ¬ë³„í•  ìˆ˜ ì—†ìŒ. ì´ëŸ´ ë•ŒëŠ” ë³€ìˆ˜ë³„ ì´ë¦„ì„ ë”°ë¡œ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.
	@Autowired
	@Qualifier("obj1")
	private Cart cart;

	@Aurowired
	@Qualifier("obj2")
	private Cart cart2;

}
```

#### ğŸŒ± &nbsp;@Resource(name="")

âœ”ï¸ JAVA ì‚¬ìš©

Autowired ëŠ” ê°™ì€ íƒ€ì…ì„ ê°€ì§„ ë³€ìˆ˜ì— ê°’ì„ ì£¼ì…ì‹œì¼œì£¼ì§€ë§Œ Resource ëŠ” ê°™ì€ ì´ë¦„ì„ ê°€ì§„ ë³€ìˆ˜ì— ê°’ì„ ì£¼ì…ì‹œì¼œì¤€ë‹¤.

```java
	@Resource(name = "cart")
	private Cart cart;
```
